{"version":3,"file":"flip-card-wc.min.js","sources":["../src/FlipCard.ts"],"sourcesContent":["import style from \"./style.css\";\nimport template from \"./template.html\";\n\nconst flipCardTemplate = document.createElement(\"template\");\n\nflipCardTemplate.innerHTML = `\n<style>${style}</style>\n${template}\n`\nclass FlipCard extends HTMLElement {\n  private _shadowRoot: ShadowRoot;\n\n  [key: string]: any;\n\n  constructor() {\n    super();\n\n    this._shadowRoot = this.attachShadow({ mode: \"open\" });\n\n    this._shadowRoot.appendChild(flipCardTemplate.content.cloneNode(true)); \n  }\n\n  connectedCallback() {\n    if (!this.hasAttribute(\"variant\")) {\n      this.variant = \"hover\";\n    }\n    this.attachEventListeners();\n    this._upgradeProperty('variant');\n  }\n\n  _upgradeProperty(prop: string) {\n  if (this.hasOwnProperty(prop)) {\n    let value = this[prop];\n    delete this[prop];\n    this[prop] = value;\n  }\n}\n\n  static get observedAttributes() {\n    return ['variant'];\n  }\n\n  attributeChangedCallback(attrName: string, oldVal: string, newVal: string) {\n    if (oldVal !== newVal) {\n      this.attachEventListeners();\n    }\n  }\n\n  get variant() {\n    return this.getAttribute(\"variant\")\n  }\n\n  set variant(newValue) {\n    if (newValue) {\n      this.setAttribute(\"variant\", newValue);\n    } \n  }\n\n  attachEventListeners() {\n    const cardFront = this._shadowRoot.querySelector<HTMLElement>(\".flip-card__side--front\");\n    \n\n    const cardBack = this._shadowRoot.querySelector<HTMLElement>(\".flip-card__side--back\");\n    \n    if (this.variant === \"click\") {\n\n      if (cardFront) {\n        cardFront.style.cursor = \"pointer\";\n      }\n\n\n      if (cardBack) {\n        cardBack.style.cursor = \"pointer\";\n      }\n\n      cardFront?.classList.remove(\"hover\");\n      \n      cardBack?.classList.remove(\"hover\");\n      cardFront?.addEventListener('click', function(event) {\n        cardFront?.classList.add(\"clicked--front\");\n         cardBack?.classList.add(\"clicked--back\");\n      })\n\n      cardBack?.addEventListener('click', function(event) {\n        cardFront?.classList.remove(\"clicked--front\");\n\n       \n        cardBack?.classList.remove(\"clicked--back\");\n\n      })\n    }\n\n    if (this.variant === \"hover\") {\n      cardFront?.classList.add(\"hover\");\n      cardFront?.classList.remove(\"clicked--front\")\n      cardBack?.classList.add('hover');\n      cardBack?.classList.remove('clicked--back');\n    }\n  } \n}\n\nwindow.customElements.define(\"flip-card\", FlipCard);\n\ndeclare global {\n  namespace JSX {\n    interface IntrinsicElements {\n      \"flip-card\": any;\n    }\n  }\n}"],"names":["flipCardTemplate","document","createElement","innerHTML","FlipCard","HTMLElement","[object Object]","super","this","_shadowRoot","attachShadow","mode","appendChild","content","cloneNode","hasAttribute","variant","attachEventListeners","_upgradeProperty","prop","hasOwnProperty","value","observedAttributes","attrName","oldVal","newVal","getAttribute","newValue","setAttribute","cardFront","querySelector","cardBack","style","cursor","classList","remove","addEventListener","event","add","window","customElements","define"],"mappings":"AAGA,MAAMA,EAAmBC,SAASC,cAAc,YAEhDF,EAAiBG,UAAY,msGAI7B,MAAMC,UAAiBC,YAKrBC,cACEC,QAEAC,KAAKC,YAAcD,KAAKE,aAAa,CAAEC,KAAM,SAE7CH,KAAKC,YAAYG,YAAYZ,EAAiBa,QAAQC,WAAU,IAGlER,oBACOE,KAAKO,aAAa,aACrBP,KAAKQ,QAAU,SAEjBR,KAAKS,uBACLT,KAAKU,iBAAiB,WAGxBZ,iBAAiBa,GACjB,GAAIX,KAAKY,eAAeD,GAAO,CAC7B,IAAIE,EAAQb,KAAKW,UACVX,KAAKW,GACZX,KAAKW,GAAQE,GAIfC,gCACE,MAAO,CAAC,WAGVhB,yBAAyBiB,EAAkBC,EAAgBC,GACrDD,IAAWC,GACbjB,KAAKS,uBAITD,cACE,OAAOR,KAAKkB,aAAa,WAG3BV,YAAYW,GACNA,GACFnB,KAAKoB,aAAa,UAAWD,GAIjCrB,uBACE,MAAMuB,EAAYrB,KAAKC,YAAYqB,cAA2B,2BAGxDC,EAAWvB,KAAKC,YAAYqB,cAA2B,0BAExC,UAAjBtB,KAAKQ,UAEHa,IACFA,EAAUG,MAAMC,OAAS,WAIvBF,IACFA,EAASC,MAAMC,OAAS,WAG1BJ,MAAAA,GAAAA,EAAWK,UAAUC,OAAO,SAE5BJ,MAAAA,GAAAA,EAAUG,UAAUC,OAAO,SAC3BN,MAAAA,GAAAA,EAAWO,iBAAiB,SAAS,SAASC,GAC5CR,MAAAA,GAAAA,EAAWK,UAAUI,IAAI,kBACxBP,MAAAA,GAAAA,EAAUG,UAAUI,IAAI,oBAG3BP,MAAAA,GAAAA,EAAUK,iBAAiB,SAAS,SAASC,GAC3CR,MAAAA,GAAAA,EAAWK,UAAUC,OAAO,kBAG5BJ,MAAAA,GAAAA,EAAUG,UAAUC,OAAO,qBAKV,UAAjB3B,KAAKQ,UACPa,MAAAA,GAAAA,EAAWK,UAAUI,IAAI,SACzBT,MAAAA,GAAAA,EAAWK,UAAUC,OAAO,kBAC5BJ,MAAAA,GAAAA,EAAUG,UAAUI,IAAI,SACxBP,MAAAA,GAAAA,EAAUG,UAAUC,OAAO,mBAKjCI,OAAOC,eAAeC,OAAO,YAAarC"}